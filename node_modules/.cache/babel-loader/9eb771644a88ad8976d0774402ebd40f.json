{"remainingRequest":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/babel-loader/lib/index.js!/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/src/views/detail/ProductDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/src/views/detail/ProductDetail.vue","mtime":1585591998000},{"path":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuqing/Desktop/mall/vue-shop-master-2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQcm9kdWN0RGV0YWlsTmF2QmFyIGZyb20gIi4vY2hpbGRyZW4vUHJvZHVjdERldGFpbE5hdkJhciI7CmltcG9ydCBEZXRhaWxTd2lwZXIgZnJvbSAiLi9jaGlsZHJlbi9EZXRhaWxTd2lwZXIiOwppbXBvcnQgRGV0YWlsQmFzZUluZm8gZnJvbSAiLi9jaGlsZHJlbi9EZXRhaWxCYXNlSW5mbyI7CmltcG9ydCBEZXRhaWxTaG9wSW5mbyBmcm9tICIuL2NoaWxkcmVuL0RldGFpbFNob3BJbmZvIjsKaW1wb3J0IFNjcm9sbCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL3Njcm9sbC9TY3JvbGwiOwppbXBvcnQgRGV0YWlsSW1hZ2VzSW5mbyBmcm9tICIuL2NoaWxkcmVuL0RldGFpbEltYWdlc0luZm8iOwppbXBvcnQgRGV0YWlsUGFyYW1JbmZvIGZyb20gIi4vY2hpbGRyZW4vRGV0YWlsUGFyYW1JbmZvIjsKaW1wb3J0IERldGFpbENvbW1lbnRJbmZvIGZyb20gIi4vY2hpbGRyZW4vRGV0YWlsQ29tbWVudEluZm8iOwppbXBvcnQgR29vZHNMaXN0IGZyb20gIkAvY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCI7CmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAiLi9jaGlsZHJlbi9EZXRhaWxCb3R0b21CYXIiOwppbXBvcnQgQmFja1RvcCBmcm9tICJAL2NvbXBvbmVudHMvY29udGVudC9iYWNrVG9wL0JhY2tUb3AiOwppbXBvcnQgeyBnZXRQcm9kdWN0RGV0YWlsIGFzIF9nZXRQcm9kdWN0RGV0YWlsLCBnZXRSZWNvbW1lbmQgYXMgX2dldFJlY29tbWVuZCwgR29vZHMsIEdvb2RzUGFyYW1zLCBTaG9wIH0gZnJvbSAiQC9uZXR3b3JrL3Byb2R1Y3REZXRhaWwiOwppbXBvcnQgeyBiYWNrVG9wTWl4aW4sIGltZ0xpc3RlbmVyTWl4aW4gfSBmcm9tICJAL2NvbW1vbi9taXhpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHVjdERldGFpbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRldGFpbElkOiAiIiwKICAgICAgLy8g6L2u5pKt5Zu+5pWw5o2uCiAgICAgIHRvcEltYWdlczogW10sCiAgICAgIGdvb2RzOiB7fSwKICAgICAgc2hvcHM6IHt9LAogICAgICBkZXRhaWxzSW5mbzoge30sCiAgICAgIHBhcmFtc0luZm86IHt9LAogICAgICBjb21tZW50SW5mbzoge30sCiAgICAgIHJlY29tbWVuZExpc3Q6IFtdLAogICAgICBkZXRhaWxDbGFzc0xpc3Q6IFtdLAogICAgICBkZXRhaWxJbmRleDogMAogICAgfTsKICB9LAogIG1peGluczogW2ltZ0xpc3RlbmVyTWl4aW4sIGJhY2tUb3BNaXhpbl0sCiAgY29tcG9uZW50czogewogICAgRGV0YWlsQm90dG9tQmFyOiBEZXRhaWxCb3R0b21CYXIsCiAgICBHb29kc0xpc3Q6IEdvb2RzTGlzdCwKICAgIERldGFpbENvbW1lbnRJbmZvOiBEZXRhaWxDb21tZW50SW5mbywKICAgIERldGFpbFBhcmFtSW5mbzogRGV0YWlsUGFyYW1JbmZvLAogICAgRGV0YWlsSW1hZ2VzSW5mbzogRGV0YWlsSW1hZ2VzSW5mbywKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgRGV0YWlsU2hvcEluZm86IERldGFpbFNob3BJbmZvLAogICAgRGV0YWlsQmFzZUluZm86IERldGFpbEJhc2VJbmZvLAogICAgRGV0YWlsU3dpcGVyOiBEZXRhaWxTd2lwZXIsCiAgICBQcm9kdWN0RGV0YWlsTmF2QmFyOiBQcm9kdWN0RGV0YWlsTmF2QmFyLAogICAgQmFja1RvcDogQmFja1RvcAogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICAvLyDov5vlhaXor6bmg4XpobXpmpDol490YWJCYXIKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VGFiQmFyU2hvdyIsIGZhbHNlKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDojrflj5bpobXpnaLkvKDov4fmnaXnmoRpZAogICAgdGhpcy5kZXRhaWxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsgLy8g5Y+R6YCB572R57uc6K+35rGCCgogICAgdGhpcy5nZXRQcm9kdWN0RGV0YWlsKCk7CiAgICB0aGlzLmdldFJlY29tbWVuZCgpOwogIH0sCiAgLy8g6Lev55Sx56a75byA55qE5pe25YCZ5oGi5aSNdGFiQmFyCiAgYmVmb3JlUm91dGVMZWF2ZTogZnVuY3Rpb24gYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRUYWJCYXJTaG93IiwgdHJ1ZSk7CiAgICBuZXh0KCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIOWPlua2iGRldGFpbOe7hOS7tuS6i+S7tuaAu+e6v+eahOebkeWQrAogICAgdGhpcy4kYnVzLiRvZmYoImltZ0xvYWQiLCB0aGlzLmltZ0xpc3RlbmVyKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOivt+axguivpuaDheaVsOaNrgogICAgZ2V0UHJvZHVjdERldGFpbDogZnVuY3Rpb24gZ2V0UHJvZHVjdERldGFpbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9nZXRQcm9kdWN0RGV0YWlsKHRoaXMuZGV0YWlsSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLnJlc3VsdDsgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgLy8g6I635Y+W6L2u5pKt5Zu+5pWw5o2uCgogICAgICAgIF90aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzOyAvLyDojrflj5bllYblk4HmlbDmja4s6LCD55So5bCB6KOF55qERVM255qEY2xhc3MKCiAgICAgICAgX3RoaXMuZ29vZHMgPSBuZXcgR29vZHMoZGF0YS5pdGVtSW5mbywgZGF0YS5jb2x1bW5zLCBkYXRhLnNob3BJbmZvLnNlcnZpY2VzKTsgLy8g6I635Y+W5bqX6ZO65pWw5o2uCgogICAgICAgIF90aGlzLnNob3BzID0gbmV3IFNob3AoZGF0YS5zaG9wSW5mbyk7IC8vIOiOt+WPluS4i+mdoueahOWbvueJh+WxleekuuaVsOaNrgoKICAgICAgICBfdGhpcy5kZXRhaWxzSW5mbyA9IGRhdGEuZGV0YWlsSW5mbzsgLy8g6I635Y+W5bC65a+45pWw5o2uCgogICAgICAgIF90aGlzLnBhcmFtc0luZm8gPSBuZXcgR29vZHNQYXJhbXMoZGF0YS5pdGVtUGFyYW1zLmluZm8sIGRhdGEuaXRlbVBhcmFtcy5ydWxlIHx8IHt9KTsgLy8g6I635Y+W6K+E6K665pWw5o2uCgogICAgICAgIGlmIChkYXRhLnJhdGUuY1JhdGUgIT09IDApIHsKICAgICAgICAgIF90aGlzLmNvbW1lbnRJbmZvID0gZGF0YS5yYXRlLmxpc3RbMF0gfHwge307CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDor7fmsYLmjqjojZDmlbDmja4KICAgIGdldFJlY29tbWVuZDogZnVuY3Rpb24gZ2V0UmVjb21tZW5kKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIF9nZXRSZWNvbW1lbmQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzMi5yZWNvbW1lbmRMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgaW1nTG9hZDogZnVuY3Rpb24gaW1nTG9hZCgpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpOyAvLyDlm77niYfliqDovb3lrozojrflj5ZjbGFzc0xpc3QKCiAgICAgIHRoaXMuZ2V0Q2xhc3NMaXN0KCk7CiAgICB9LAogICAgLy8gbmF2QmFy54K55Ye7CiAgICB0aXRsZUl0ZW1DbGljazogZnVuY3Rpb24gdGl0bGVJdGVtQ2xpY2soaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyDmoLnmja7mlbDnu4TkuIvmoIfmu5rliqjliLDlr7nlupTnmoTlhYPntKDlhoXlrrnkvY3nva4KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImRldGFpbC1zZXQtc2Nyb2xsIik7CgogICAgICAgIF90aGlzMy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG9FbGVtZW50KGVsW2luZGV4XSwgMzAwKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+WY2xhc3NMaXN0CiAgICBnZXRDbGFzc0xpc3Q6IGZ1bmN0aW9uIGdldENsYXNzTGlzdCgpIHsKICAgICAgLy8gQXJyYXkuZnJvbSgpIOWwhuS8quaVsOe7hOi9rOaNouaIkOe6r+aVsOe7hAogICAgICB0aGlzLmRldGFpbENsYXNzTGlzdCA9IFtdOwogICAgICB0aGlzLmRldGFpbENsYXNzTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZGV0YWlsLXNldC1zY3JvbGwiKSk7CiAgICAgIHZhciBtYXhWYWx1ZSA9IDEwMDAwMDAwOwogICAgICB0aGlzLmRldGFpbENsYXNzTGlzdC5wdXNoKHsKICAgICAgICBvZmZzZXRUb3A6IG1heFZhbHVlCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmRldGFpbENsYXNzTGlzdCk7CiAgICB9LAogICAgLy8g55uR5ZCs6K+m5oOF6aG15rua5Yqo5LqL5Lu2LOW5tuWKqOaAgeiuvue9rm5hdkJhcueahGluZGV4CiAgICBkZXRhaWxTY3JvbGw6IGZ1bmN0aW9uIGRldGFpbFNjcm9sbChwb3NpdGlvbikgewogICAgICB2YXIgZGV0YWlsUG9zaXRpb24gPSBwb3NpdGlvbiA/IC1wb3NpdGlvbi55IDogMDsKICAgICAgdGhpcy5jdXJQb3NpdGlvbiA9IGRldGFpbFBvc2l0aW9uOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRldGFpbENsYXNzTGlzdC5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICBpZiAoZGV0YWlsUG9zaXRpb24gPj0gdGhpcy5kZXRhaWxDbGFzc0xpc3RbaV0ub2Zmc2V0VG9wICYmIGRldGFpbFBvc2l0aW9uIDwgdGhpcy5kZXRhaWxDbGFzc0xpc3RbaSArIDFdLm9mZnNldFRvcCkgewogICAgICAgICAgaWYgKHRoaXMuZGV0YWlsSW5kZXggIT09IGkpIHsKICAgICAgICAgICAgdGhpcy5kZXRhaWxJbmRleCA9IGk7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZGV0YWlsTmF2QmFyLmN1cnJlbnRJbmRleCA9IHRoaXMuZGV0YWlsSW5kZXg7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5re75Yqg6LSt54mp6L2mCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydCgpIHsKICAgICAgLy8gMS7ojrflj5bpnIDopoHlsZXnpLrliLDotK3nianovabnmoTllYblk4Hkv6Hmga8KICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBpbWFnZTogdGhpcy50b3BJbWFnZXNbMF0sCiAgICAgICAgdGl0bGU6IHRoaXMuZ29vZHMudGl0bGUsCiAgICAgICAgZGVzYzogdGhpcy5nb29kcy5kZXNjLAogICAgICAgIHByaWNlOiB0aGlzLmdvb2RzLmxvd05vd1ByaWNlLAogICAgICAgIGlkOiB0aGlzLmRldGFpbElkCiAgICAgIH07IC8vIDIu5bCG5ZWG5ZOB5pWw5o2u5Lyg5Yiw6LSt54mp6L2m6aG16Z2iCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0Q2F0ZUdvcnlEYXRhIiwgb2JqKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ProductDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"product-detail\">\n    <product-detail-nav-bar @titleItemClick=\"titleItemClick\" ref=\"detailNavBar\" />\n    <scroll :probe-type=\"3\" @backTopScroll=\"detailScroll\" class=\"scroll-height\" ref=\"scroll\">\n      <detail-swiper :swiper-list=\"topImages\" class=\"detail-set-scroll\" />\n      <detail-base-info :goods=\"goods\" />\n      <detail-shop-info :shop=\"shops\" />\n      <detail-images-info :images-info=\"detailsInfo\" @imgLoad=\"imgLoad\" />\n      <detail-param-info :param-info=\"paramsInfo\" class=\"detail-set-scroll\" />\n      <detail-comment-info :comment-info=\"commentInfo\" class=\"detail-set-scroll\" />\n      <goods-list :goods=\"recommendList\" :is-recommend=\"true\" class=\"detail-set-scroll\" />\n    </scroll>\n\n    <!-- 回到顶部,监听组件的原生事件必须要用native修饰符变成原生组件 -->\n    <transition name=\"scroll\">\n      <back-top @click.native=\"backTop\" v-show=\"curPosition >= 1500\" />\n    </transition>\n\n    <detail-bottom-bar @addToCart=\"addToCart\" />\n  </div>\n</template>\n\n<script>\nimport ProductDetailNavBar from \"./children/ProductDetailNavBar\";\nimport DetailSwiper from \"./children/DetailSwiper\";\nimport DetailBaseInfo from \"./children/DetailBaseInfo\";\nimport DetailShopInfo from \"./children/DetailShopInfo\";\nimport Scroll from \"@/components/common/scroll/Scroll\";\nimport DetailImagesInfo from \"./children/DetailImagesInfo\";\nimport DetailParamInfo from \"./children/DetailParamInfo\";\nimport DetailCommentInfo from \"./children/DetailCommentInfo\";\nimport GoodsList from \"@/components/content/goods/GoodsList\";\nimport DetailBottomBar from \"./children/DetailBottomBar\";\nimport BackTop from \"@/components/content/backTop/BackTop\";\n\nimport { getProductDetail, getRecommend, Goods, GoodsParams, Shop } from \"@/network/productDetail\";\nimport { backTopMixin, imgListenerMixin } from \"@/common/mixin\";\n\nexport default {\n  name: \"ProductDetail\",\n  data() {\n    return {\n      detailId: \"\",\n      // 轮播图数据\n      topImages: [],\n      goods: {},\n      shops: {},\n      detailsInfo: {},\n      paramsInfo: {},\n      commentInfo: {},\n      recommendList: [],\n      detailClassList: [],\n      detailIndex: 0\n    };\n  },\n  mixins: [imgListenerMixin, backTopMixin],\n  components: {\n    DetailBottomBar,\n    GoodsList,\n    DetailCommentInfo,\n    DetailParamInfo,\n    DetailImagesInfo,\n    Scroll,\n    DetailShopInfo,\n    DetailBaseInfo,\n    DetailSwiper,\n    ProductDetailNavBar,\n    BackTop\n  },\n  beforeCreate() {\n    // 进入详情页隐藏tabBar\n    this.$store.commit(\"setTabBarShow\", false);\n  },\n  created() {\n    // 获取页面传过来的id\n    this.detailId = this.$route.params.id;\n\n    // 发送网络请求\n    this.getProductDetail();\n    this.getRecommend();\n  },\n  // 路由离开的时候恢复tabBar\n  beforeRouteLeave(to, from, next) {\n    this.$store.commit(\"setTabBarShow\", true);\n    next();\n  },\n  destroyed() {\n    // 取消detail组件事件总线的监听\n    this.$bus.$off(\"imgLoad\", this.imgListener);\n  },\n  methods: {\n    // 请求详情数据\n    getProductDetail() {\n      getProductDetail(this.detailId).then(res => {\n        const data = res.result;\n        // console.log(data);\n\n        // 获取轮播图数据\n        this.topImages = data.itemInfo.topImages;\n\n        // 获取商品数据,调用封装的ES6的class\n        this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services);\n\n        // 获取店铺数据\n        this.shops = new Shop(data.shopInfo);\n\n        // 获取下面的图片展示数据\n        this.detailsInfo = data.detailInfo;\n\n        // 获取尺寸数据\n        this.paramsInfo = new GoodsParams(data.itemParams.info, data.itemParams.rule || {});\n\n        // 获取评论数据\n        if (data.rate.cRate !== 0) {\n          this.commentInfo = data.rate.list[0] || {};\n        }\n      });\n    },\n    // 请求推荐数据\n    getRecommend() {\n      getRecommend().then(res => {\n        // console.log(res);\n        this.recommendList = res.data.list;\n      });\n    },\n    imgLoad() {\n      this.$refs.scroll.refresh();\n      // 图片加载完获取classList\n      this.getClassList();\n    },\n    // navBar点击\n    titleItemClick(index) {\n      // 根据数组下标滚动到对应的元素内容位置\n      this.$nextTick(() => {\n        let el = document.getElementsByClassName(\"detail-set-scroll\");\n        this.$refs.scroll.scrollToElement(el[index], 300);\n      });\n    },\n    // 获取classList\n    getClassList() {\n      // Array.from() 将伪数组转换成纯数组\n      this.detailClassList = [];\n      this.detailClassList = Array.from(document.getElementsByClassName(\"detail-set-scroll\"));\n      let maxValue = 10000000;\n      this.detailClassList.push({ offsetTop: maxValue });\n      console.log(this.detailClassList);\n    },\n    // 监听详情页滚动事件,并动态设置navBar的index\n    detailScroll(position) {\n      let detailPosition = position ? -position.y : 0;\n      this.curPosition = detailPosition;\n\n      for (let i = 0; i < this.detailClassList.length - 1; i++) {\n        if (\n          detailPosition >= this.detailClassList[i].offsetTop &&\n          detailPosition < this.detailClassList[i + 1].offsetTop\n        ) {\n          if (this.detailIndex !== i) {\n            this.detailIndex = i;\n            this.$refs.detailNavBar.currentIndex = this.detailIndex;\n          }\n          break;\n        }\n      }\n    },\n    // 添加购物车\n    addToCart() {\n      // 1.获取需要展示到购物车的商品信息\n      const obj = {\n        image: this.topImages[0],\n        title: this.goods.title,\n        desc: this.goods.desc,\n        price: this.goods.lowNowPrice,\n        id: this.detailId\n      };\n\n      // 2.将商品数据传到购物车页面\n      this.$store.dispatch(\"setCateGoryData\", obj);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.product-detail {\n  width: 100%;\n  height: 100%;\n}\n\n/* BScroll固定高度和区域 */\n.scroll-height {\n  position: absolute;\n  top: 44px;\n  right: 0;\n  bottom: 50px;\n  left: 0;\n  overflow: hidden;\n  width: 100%;\n  background-color: #ffffff;\n}\n\n/* vue的淡入淡出动画 */\n.scroll-enter-active,\n.scroll-leave-active {\n  transition: all 0.3s;\n}\n\n.scroll-enter,\n.scroll-leave-to {\n  opacity: 0;\n}\n\n.scroll-enter-to,\n.scroll-leave {\n  opacity: 1;\n}\n</style>\n"],"sourceRoot":"src/views/detail"}]}